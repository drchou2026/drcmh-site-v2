---
import { getEntry } from 'astro:content';
import { GraduationCap, Award, Stethoscope, Building2, CheckCircle2 } from 'lucide-react';

// ğŸŸ¢ å¾ Keystatic è®€å–å…¨åŸŸè¨­å®š
const settings = await getEntry('settings', 'global');
const { doctorWord, doctorName } = settings.data;

// ğŸŸ¢ å¾ Keystatic è®€å–å°ˆæ¥­å±¥æ­·
const resume = await getEntry('resume', 'resume');
const { 
  experiences = [], 
  associations = [], 
  educations = [], 
  certifications = [] 
} = resume?.data || {};
---

<section id="about" class="py-24 bg-surface relative">
  <div class="container mx-auto px-6">
    
    {/* Section Heading */}
    <div class="mb-16 text-center md:text-left">
      <h3 class="text-xs font-bold tracking-[0.2em] uppercase text-accent mb-3">ABOUT DR. CHOU</h3>
      <h2 class="text-3xl md:text-4xl font-serif font-bold text-primary">å­¸ç¶“æ­·èˆ‡èªè­‰</h2>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20">
      
      {/* å·¦æ¬„ï¼šç¶“æ­·èˆ‡å­¸æœƒ */}
      <div class="space-y-12">
        
        {/* å°ˆæ¥­ç¶“æ­· */}
        <div>
          <h3 class="text-xl font-bold text-primary mb-6 flex items-center gap-3">
            <span class="w-10 h-10 rounded-full bg-highlight flex items-center justify-center text-accent">
               <Building2 size={20} />
            </span>
            å°ˆæ¥­ç¶“æ­·
          </h3>
          
          <div class="relative pl-4 ml-5 border-l-2 border-highlight space-y-6">
            {experiences.map((exp, index) => (
              <div class="relative">
                {/* è£é£¾åœ“é» */}
                <span class="absolute -left-[23px] top-2 w-3.5 h-3.5 bg-bg border-2 border-accent rounded-full"></span>
                <p class="text-text leading-relaxed hover:text-primary transition-colors duration-300">
                  {exp}
                </p>
              </div>
            ))}
          </div>
        </div>

        {/* å°ˆæ¥­é†«å­¸æœƒ */}
        <div>
          <h3 class="text-xl font-bold text-primary mb-6 flex items-center gap-3">
             <span class="w-10 h-10 rounded-full bg-highlight flex items-center justify-center text-accent">
               <Award size={20} />
            </span>
            å°ˆæ¥­é†«å­¸æœƒ
          </h3>
          <ul class="grid grid-cols-1 gap-3">
            {associations.map(assoc => (
              <li class="flex items-center gap-3 text-text">
                <CheckCircle2 size={18} className="text-accent/60" />
                <span>{assoc}</span>
              </li>
            ))}
          </ul>
        </div>

      </div>

      {/* å³æ¬„ï¼šå­¸æ­·èˆ‡è­‰ç…§ */}
      <div class="space-y-12">
        
        {/* å­¸æ­· (å¡ç‰‡å¼å¼·èª¿) */}
        <div class="bg-highlight/30 p-8 rounded-3xl border border-highlight">
          <h3 class="text-xl font-bold text-primary mb-6 flex items-center gap-3">
             <span class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-accent shadow-sm">
               <GraduationCap size={20} />
            </span>
            å­¸æ­·
          </h3>
          <ul class="space-y-4">
            {educations.map(edu => (
              <li class="flex flex-col">
                <span class="font-bold text-primary text-lg">{edu}</span>
                {/* å¦‚æœæœªä¾†æœ‰å¹´ä»½æˆ–å‚™è¨»å¯ä»¥åŠ åœ¨é€™è£¡ */}
              </li>
            ))}
          </ul>
        </div>

        {/* å°ˆç§‘è­‰ç…§ (Grid æ’åˆ—) */}
        <div>
          <h3 class="text-xl font-bold text-primary mb-6 flex items-center gap-3">
             <span class="w-10 h-10 rounded-full bg-highlight flex items-center justify-center text-accent">
               <Stethoscope size={20} />
            </span>
            å°ˆç§‘è­‰ç…§
          </h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            {certifications.map(cert => (
              <div class="group flex items-center gap-3 p-4 rounded-xl border border-highlight bg-white hover:border-accent/50 hover:shadow-md transition-all duration-300">
                <div class="w-8 h-8 rounded-full bg-highlight flex items-center justify-center text-text/50 group-hover:bg-accent group-hover:text-white transition-colors">
                   <Award size={16} />
                </div>
                <span class="text-sm font-bold text-text group-hover:text-primary transition-colors">
                  {cert}
                </span>
              </div>
            ))}
          </div>
        </div>

        {/* é†«å¸«çš„è©± (å¼•ç”¨) */}
        <div class="pt-8 border-t border-highlight">
           <blockquote class="text-text italic leading-relaxed text-sm">
             ã€Œ{doctorWord || "è‡´åŠ›æ–¼é€éç´°è†©çš„æºé€šèˆ‡ç²¾æº–çš„æ²»ç™‚ï¼Œå”åŠ©æ‚¨å¸ä¸‹å¿ƒç†è² æ“”ï¼Œé‡æ‹¾è‡ªä¿¡ç”Ÿæ´»ã€‚"}ã€ 
           </blockquote>
           <div class="mt-4 flex items-center gap-3">
              <div class="w-8 h-0.5 bg-accent"></div>
              <span class="font-serif font-bold text-primary text-sm">Dr. Chou Meng-Han</span>
           </div>
        </div>

      </div>

    </div>
  </div>
</section>