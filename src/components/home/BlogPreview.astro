---
import { ArrowRight, Calendar, Tag, FileText } from 'lucide-react';

// 模擬資料：未來會改為從 Keystatic (src/content/blog) 讀取
const posts = [
  {
    id: 1,
    title: "明明才上過，怎麼又要去？搞懂攝護腺肥大如何擠壓你的「排尿通道」",
    date: "2026.01.20",
    category: "攝護腺健康",
    tags: ["攝護腺肥大", "夜尿", "頻尿"],
    excerpt: "「醫師，我開會都要偷偷計算時間，擔心尿急離席很尷尬...」這不是單純的老化，而是您的膀胱在發出求救訊號。攝護腺就像一圈逐漸收緊的套環，擠壓尿道...",
    image: "/images/blog-prostate.jpg", // 暫時無圖，會顯示 Placeholder
  },
  {
    id: 2,
    title: "微創拉開手術 (UroLift) 是什麼？不切除組織也能改善排尿？",
    date: "2026.01.15",
    category: "微創手術",
    tags: ["UroLift", "手術介紹", "性功能保留"],
    excerpt: "傳統手術雖然效果好，但術後恢復期長且可能影響射精功能。UroLift 透過像「束線帶」般的植入物，將肥大的攝護腺組織拉開，保留完整生理功能。",
    image: "/images/blog-urolift.jpg",
  },
  {
    id: 3,
    title: "私密處長東西？淺談菜花與精準雷射治療",
    date: "2026.01.10",
    category: "性傳染病",
    tags: ["菜花", "HPV", "雷射治療"],
    excerpt: "發現私密處有不明凸起物別驚慌，透過精準的雷射治療與 HPV 疫苗防護，我們能協助您快速找回健康與自信，並降低復發風險。",
    image: "/images/blog-hpv.jpg",
  },
];
---

<section id="blog-preview" class="py-24 bg-surface relative">
  <div class="container mx-auto px-6">
    
    {/* 標題與查看更多 (Header) */}
    <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
      <div class="text-center md:text-left w-full md:w-auto">
        <h3 class="text-xs font-bold tracking-[0.2em] uppercase text-accent mb-3">Health Blog</h3>
        <h2 class="text-3xl md:text-4xl font-serif font-bold text-primary">衛教專欄</h2>
      </div>
      
      <a 
        href="/blog" 
        class="hidden md:flex items-center gap-2 text-sm font-bold text-accent hover:text-primary transition-colors pb-2 border-b border-transparent hover:border-primary"
      >
        查看所有文章 <ArrowRight size={16} />
      </a>
    </div>

    {/* 文章卡片網格 (Grid) */}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {posts.map((post) => (
        <article class="group flex flex-col h-full bg-bg rounded-2xl overflow-hidden border border-transparent hover:border-accent/20 hover:shadow-xl transition-all duration-300 cursor-pointer">
          
          {/* 1. 封面圖區域 */}
          <div class="relative aspect-video overflow-hidden bg-gray-200">
            {/* 實際開發時，使用 <Image /> 元件，這裡先用 div 模擬 Placeholder */}
            <div class="absolute inset-0 flex items-center justify-center text-primary/10 bg-highlight/30 group-hover:scale-105 transition-transform duration-700">
              <FileText size={48} />
            </div>
            
            {/* 分類標籤 (右上角) */}
            <span class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 text-xs font-bold text-primary rounded-full shadow-sm">
              {post.category}
            </span>
          </div>

          {/* 2. 內容區域 */}
          <div class="p-6 flex flex-col flex-grow">
            
            {/* 日期與標籤 */}
            <div class="flex items-center gap-3 mb-3 text-xs text-text/60">
              <div class="flex items-center gap-1">
                <Calendar size={12} />
                <span>{post.date}</span>
              </div>
              <span class="w-1 h-1 rounded-full bg-accent"></span>
              <div class="flex items-center gap-1 overflow-hidden">
                <Tag size={12} />
                <span class="truncate">{post.tags[0]}</span>
              </div>
            </div>

            {/* 標題 */}
            <h3 class="text-lg font-serif font-bold text-primary mb-3 leading-snug line-clamp-2 group-hover:text-accent transition-colors">
              {post.title}
            </h3>

            {/* 摘要 */}
            <p class="text-sm text-text leading-relaxed line-clamp-3 mb-6 flex-grow">
              {post.excerpt}
            </p>

            {/* Read More */}
            <div class="pt-4 border-t border-primary/5 flex items-center justify-between mt-auto">
              <span class="text-sm font-bold text-primary group-hover:text-accent transition-colors">閱讀全文</span>
              <div class="w-8 h-8 rounded-full bg-white flex items-center justify-center text-primary shadow-sm group-hover:bg-accent group-hover:text-white transition-all duration-300 transform group-hover:translate-x-1">
                <ArrowRight size={14} />
              </div>
            </div>

          </div>
        </article>
      ))}
    </div>

    {/* 手機版查看更多按鈕 */}
    <div class="mt-12 text-center md:hidden">
      <a 
        href="/blog" 
        class="inline-block px-8 py-3 bg-white border border-primary/20 rounded-full text-primary font-bold shadow-sm hover:bg-bg transition-colors"
      >
        查看所有文章
      </a>
    </div>

  </div>
</section>